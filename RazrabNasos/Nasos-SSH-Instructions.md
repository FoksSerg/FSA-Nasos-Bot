# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
# ะะะกะขะะฃะะฆะะฏ ะะ ะะะกะขะะะะะ SSH ะะะะะฃ ROUTEROS
# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
# 
# ะะฐัััะพะนะบะฐ ะฐะฒัะพะผะฐัะธัะตัะบะพะณะพ SSH-ัะพะตะดะธะฝะตะฝะธั ะผะตะถะดั ัะพััะตัะฐะผะธ
# Nasos (ะณะปะฐะฒะฝัะน) ะธ Boler (ะดะพัะตัะฝะธะน) ะดะปั ะพะฟัะพัะฐ ะดะฐััะธะบะพะฒ ััะพะฒะฝั ะฒะพะดั
#
# ะะฒัะพั: NasosRunner Project
# ะะตััะธั: 1.0
# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

## ๐ ะะะฉะะฏ ะกะฅะะะ ะะะกะขะะะะะ

```
โโโโโโโโโโโโโโโโโโโ    SSH-ะบะปััะธ    โโโโโโโโโโโโโโโโโโโ
โ                 โโโโโโโโโโโโโโโโโโโบโ                 โ
โ   NASOS         โ                  โ   BOLER         โ
โ   (10.10.55.1)  โ                  โ   (10.10.55.2)  โ
โ                 โ                  โ                 โ
โ   SSH-ะบะปะธะตะฝั    โ                  โ   SSH-ัะตัะฒะตั    โ
โ   ะะตะฝะตัะธััะตั    โ                  โ   ะัะธะฝะธะผะฐะตั     โ
โ   ะบะปััะธ         โ                  โ   ะบะปััะธ         โ
โโโโโโโโโโโโโโโโโโโ                  โโโโโโโโโโโโโโโโโโโ
```

## ๐ ะะะจะะะะะะฏ ะะะกะขะะะะะ

### ะญะขะะ 1: ะะะกะขะะะะะ ะะ ะะะฃะขะะะ NASOS (ะะะะะะซะ)

1. **ะะฐะณััะทะธัะต ัะบัะธะฟั ะฝะฐัััะพะนะบะธ SSH**
   ```bash
   # ะะฐะณััะทะธัะต ัะฐะนะป Nasos-SSH-Setup.rsc ะฝะฐ ัะพััะตั Nasos
   # ะัะฟะพะปัะทัะนัะต MikrotikUploader ะธะปะธ WinBox
   ```

2. **ะะฐะฟัััะธัะต ัะบัะธะฟั ะฝะฐัััะพะนะบะธ**
   ```bash
   /system script run Nasos-SSH-Setup
   ```

3. **ะงัะพ ะฟัะพะธะทะพะนะดะตั:**
   - โ ะะตะฝะตัะฐัะธั SSH-ะบะปััะตะน RSA 2048 ะฑะธั
   - โ ะะฐัััะพะนะบะฐ SSH-ะบะปะธะตะฝัะฐ ะดะปั ะฟะพะดะบะปััะตะฝะธั ะบ Boler
   - โ ะญะบัะฟะพัั ะฟัะฑะปะธัะฝะพะณะพ ะบะปััะฐ ะฒ ัะฐะนะป
   - โ ะขะตััะธัะพะฒะฐะฝะธะต ัะพะตะดะธะฝะตะฝะธั (ะฟะพะบะฐะถะตั ะพัะธะฑะบั - ััะพ ะฝะพัะผะฐะปัะฝะพ)

4. **ะะพะปััะธัะต ัะฐะนะป ั ะฟัะฑะปะธัะฝัะผ ะบะปััะพะผ**
   ```bash
   # ะคะฐะนะป ะฑัะดะตั ัะพะทะดะฐะฝ: nasos-public-key-nasos-to-boler.txt
   # ะกะบะพะฟะธััะนัะต ะตะณะพ ะฝะฐ ัะพััะตั Boler ะปัะฑัะผ ัะฟะพัะพะฑะพะผ:
   # - WinBox (Files)
   # - FTP/SCP
   # - USB-ะฝะฐะบะพะฟะธัะตะปั
   ```

### ะญะขะะ 2: ะะะกะขะะะะะ ะะ ะะะฃะขะะะ BOLER (ะะะงะะะะะ)

1. **ะะฐะณััะทะธัะต ัะบัะธะฟั ะฝะฐัััะพะนะบะธ SSH**
   ```bash
   # ะะฐะณััะทะธัะต ัะฐะนะป Boler-SSH-Setup.rsc ะฝะฐ ัะพััะตั Boler
   ```

2. **ะกะบะพะฟะธััะนัะต ัะฐะนะป ั ะฟัะฑะปะธัะฝัะผ ะบะปััะพะผ**
   ```bash
   # ะะพะผะตััะธัะต ัะฐะนะป nasos-public-key-nasos-to-boler.txt ะฒ ะบะพัะตะฝั ัะฐะนะปะพะฒะพะน ัะธััะตะผั
   # ะัะพะฒะตัััะต ะฝะฐะปะธัะธะต: /file print
   ```

3. **ะะฐะฟัััะธัะต ัะบัะธะฟั ะฝะฐัััะพะนะบะธ**
   ```bash
   /system script run Boler-SSH-Setup
   ```

4. **ะงัะพ ะฟัะพะธะทะพะนะดะตั:**
   - โ ะะผะฟะพัั ะฟัะฑะปะธัะฝะพะณะพ ะบะปััะฐ ะพั Nasos
   - โ ะะฐัััะพะนะบะฐ SSH-ัะตัะฒะตัะฐ
   - โ ะะพะฑะฐะฒะปะตะฝะธะต ะบะปััะฐ ะบ ะฟะพะปัะทะพะฒะฐัะตะปั
   - โ ะัะธััะบะฐ ะฒัะตะผะตะฝะฝัั ัะฐะนะปะพะฒ

### ะญะขะะ 3: ะขะะกะขะะะะะะะะ ะกะะะะะะะะะฏ

1. **ะขะตัั ะฝะฐ ัะพััะตัะต Nasos**
   ```bash
   /system script run Nasos-SSH-Test
   ```

2. **ะขะตัั ะฝะฐ ัะพััะตัะต Boler**
   ```bash
   /system script run Boler-SSH-Test
   ```

3. **ะััะฝะพะน ัะตัั SSH-ัะพะตะดะธะฝะตะฝะธั**
   ```bash
   # ะะฐ ัะพััะตัะต Nasos ะฒัะฟะพะปะฝะธัะต:
   /system ssh-exec address=10.10.55.2 user=FokinSA command=":put \$BolerStatus"
   ```

## ๐ง ะะะะะะะซ ะะะฏ ะะฃะงะะะ ะะะกะขะะะะะ

### ะะฐ ัะพััะตัะต NASOS:

```bash
# ะะตะฝะตัะฐัะธั SSH-ะบะปััะตะน
/ssh key generate key-name=nasos-to-boler key-type=rsa key-size=2048

# ะะฐัััะพะนะบะฐ SSH-ะบะปะธะตะฝัะฐ
/ssh client add address=10.10.55.2 user=FokinSA key=nasos-to-boler

# ะญะบัะฟะพัั ะฟัะฑะปะธัะฝะพะณะพ ะบะปััะฐ
/ssh key export public-key-name=nasos-to-boler
```

### ะะฐ ัะพััะตัะต BOLER:

```bash
# ะะผะฟะพัั ะฟัะฑะปะธัะฝะพะณะพ ะบะปััะฐ
/ssh public-key import public-key-file=nasos-public-key-nasos-to-boler.txt key-name=nasos-to-boler

# ะะบะปััะตะฝะธะต SSH-ัะตัะฒะตัะฐ
/ip service set ssh disabled=no

# ะะพะฑะฐะฒะปะตะฝะธะต ะบะปััะฐ ะบ ะฟะพะปัะทะพะฒะฐัะตะปั
/user ssh-keys import user=FokinSA public-key-file=nasos-public-key-nasos-to-boler.txt
```

## ๐จ ะฃะกะขะะะะะะะ ะะะะะะะ

### ะัะพะฑะปะตะผะฐ: "SSH-ัะพะตะดะธะฝะตะฝะธะต ะฝะต ัะฐะฑะพัะฐะตั"

**ะะพะทะผะพะถะฝัะต ะฟัะธัะธะฝั:**
1. SSH-ัะตัะฒะตั ะพัะบะปััะตะฝ ะฝะฐ Boler
2. ะัะฑะปะธัะฝัะน ะบะปัั ะฝะต ะธะผะฟะพััะธัะพะฒะฐะฝ
3. ะะพะปัะทะพะฒะฐัะตะปั ะฝะต ะธะผะตะตั SSH-ะบะปััะตะน
4. ะัะพะฑะปะตะผั ั ัะฐะนัะฒะพะปะพะผ

**ะะตัะตะฝะธะต:**
```bash
# ะะฐ Boler ะฟัะพะฒะตัััะต:
/ip service print where name=ssh
/ssh public-key print
/user ssh-keys print
/ip firewall filter print where chain=input and dst-port=22
```

### ะัะพะฑะปะตะผะฐ: "ะัะฑะปะธัะฝัะน ะบะปัั ะฝะต ะฝะฐะนะดะตะฝ"

**ะะตัะตะฝะธะต:**
```bash
# ะฃะฑะตะดะธัะตัั ััะพ ัะฐะนะป ัะบะพะฟะธัะพะฒะฐะฝ:
/file print

# ะัะพะฒะตัััะต ัะพะดะตัะถะธะผะพะต ัะฐะนะปะฐ:
/file get nasos-public-key-nasos-to-boler.txt contents
```

### ะัะพะฑะปะตะผะฐ: "ะะพะปัะทะพะฒะฐัะตะปั ะฝะต ะฝะฐะนะดะตะฝ"

**ะะตัะตะฝะธะต:**
```bash
# ะกะพะทะดะฐะนัะต ะฟะพะปัะทะพะฒะฐัะตะปั ะธะปะธ ะธัะฟะพะปัะทัะนัะต ัััะตััะฒัััะตะณะพ:
/user add name=FokinSA group=full password=your_password
```

## ๐ ะะะะะะะกะะะกะขะฌ

### ะะตะบะพะผะตะฝะดัะตะผัะต ะฝะฐัััะพะนะบะธ:

1. **ะะณัะฐะฝะธัะตะฝะธะต ะดะพัััะฟะฐ ะฟะพ IP**
   ```bash
   /ip service set ssh address=10.10.55.0/24
   ```

2. **ะะฐัััะพะนะบะฐ ัะฐะนัะฒะพะปะฐ**
   ```bash
   /ip firewall filter add chain=input protocol=tcp dst-port=22 src-address=10.10.55.1 action=accept
   /ip firewall filter add chain=input protocol=tcp dst-port=22 action=drop
   ```

3. **ะัะบะปััะตะฝะธะต ะฟะฐัะพะปัะฝะพะน ะฐะฒัะพัะธะทะฐัะธะธ**
   ```bash
   /ip ssh set password-auth=no
   ```

## ๐ ะะะขะะะะะฆะะฏ ะก ะกะะกะขะะะะ

ะะพัะปะต ััะฟะตัะฝะพะน ะฝะฐัััะพะนะบะธ SSH:

1. **ะะพะดัะปั Boler-NetworkAPI.rsc** ัะผะพะถะตั ะพะฟัะฐัะธะฒะฐัั Boler ัะตัะตะท SSH
2. **ะะฒัะพะผะฐัะธัะตัะบะธะน ะพะฟัะพั** ะดะฐััะธะบะพะฒ ััะพะฒะฝั ะฒะพะดั ะฑัะดะตั ัะฐะฑะพัะฐัั
3. **ะะตัะตะผะตะฝะฝัะต Boler** ะฑัะดัั ะดะพัััะฟะฝั ะฝะฐ ัะพััะตัะต Nasos

### ะัะธะผะตั ะธัะฟะพะปัะทะพะฒะฐะฝะธั ะฒ ัะบัะธะฟัะฐั:

```bash
# ะะพะปััะตะฝะธะต ััะฐัััะฐ ะดะฐััะธะบะพะฒ
:local bolerStatus [/system ssh-exec address=10.10.55.2 user=FokinSA command=":put \$BolerStatus"]

# ะะพะปััะตะฝะธะต ััะพะฒะฝั ะฒะพะดั
:local level1 [/system ssh-exec address=10.10.55.2 user=FokinSA command=":put \$BolerLevel1"]
```

## ๐ ะะะะ ะ ะะะะะะะกะขะะะ

ะัะต ะพะฟะตัะฐัะธะธ ะปะพะณะธัััััั ั ะฟัะตัะธะบัะฐะผะธ:
- `NASOS-SSH:` - ะพะฟะตัะฐัะธะธ ะฝะฐ ัะพััะตัะต Nasos
- `BOLER-SSH:` - ะพะฟะตัะฐัะธะธ ะฝะฐ ัะพััะตัะต Boler

ะะปั ะฟัะพัะผะพััะฐ ะปะพะณะพะฒ:
```bash
/log print where message~"SSH"
```

## โ ะะะะขะะะะฌะะซะ ะกะะะกะะ

- [ ] SSH-ะบะปััะธ ัะณะตะฝะตัะธัะพะฒะฐะฝั ะฝะฐ Nasos
- [ ] ะัะฑะปะธัะฝัะน ะบะปัั ัะบัะฟะพััะธัะพะฒะฐะฝ ะฒ ัะฐะนะป
- [ ] ะคะฐะนะป ัะบะพะฟะธัะพะฒะฐะฝ ะฝะฐ Boler
- [ ] ะัะฑะปะธัะฝัะน ะบะปัั ะธะผะฟะพััะธัะพะฒะฐะฝ ะฝะฐ Boler
- [ ] SSH-ัะตัะฒะตั ะฒะบะปััะตะฝ ะฝะฐ Boler
- [ ] ะะพะปัะทะพะฒะฐัะตะปั ะฝะฐัััะพะตะฝ ะฝะฐ Boler
- [ ] SSH-ะบะปัั ะดะพะฑะฐะฒะปะตะฝ ะบ ะฟะพะปัะทะพะฒะฐัะตะปั
- [ ] ะขะตััะธัะพะฒะฐะฝะธะต ะฟัะพัะปะพ ััะฟะตัะฝะพ
- [ ] ะคะฐะนัะฒะพะป ะฝะฐัััะพะตะฝ (ะพะฟัะธะพะฝะฐะปัะฝะพ)
- [ ] ะกะธััะตะผะฐ ะณะพัะพะฒะฐ ะบ ัะฐะฑะพัะต

## ๐ ะะะะะะะะะ

ะัะธ ะฒะพะทะฝะธะบะฝะพะฒะตะฝะธะธ ะฟัะพะฑะปะตะผ:
1. ะัะพะฒะตัััะต ะปะพะณะธ: `/log print where message~"SSH"`
2. ะะฐะฟัััะธัะต ัะตััะพะฒัะต ัะบัะธะฟัั
3. ะัะพะฒะตัััะต ัะตัะตะฒัั ะดะพัััะฟะฝะพััั ะผะตะถะดั ัะพััะตัะฐะผะธ
4. ะฃะฑะตะดะธัะตัั ััะพ ะฒัะต ัะฐะนะปั ะทะฐะณััะถะตะฝั ะบะพััะตะบัะฝะพ 